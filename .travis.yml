install:
  - wget -O - http://llvm.org/apt/llvm-snapshot.gpg.key | sudo apt-key add -
  - sudo add-apt-repository "deb http://llvm.org/apt/precise/ llvm-toolchain-precise main"
  - sudo apt-get update
  - sudo apt-get install trousers libtspi-dev
  - sudo apt-get install cmake 
  - sudo apt-get install libcrypto++9 libcrypto++9-dbg libcrypto++-dev
  - sudo apt-get install libblkid-dev
  - sudo apt-get install clang-3.4
language: cpp
script: make
compiler:
  - clang
  - gcc
before_script:
  - cd bin
  - cmake ../
before_install:
  - cd ../
  - tar -xzf tests/emulator/tpm_emulator-0.7.4.tar.gz -C /tmp
  - cd /tmp/tpm_emulator-0.7.4/
  - mkdir build
  - cd build
  - cmake ../
  - make
  - sudo make install
  - sudo depmod -a
  - sudo modprobe tpmd_dev
  - sudo tpmd -d

